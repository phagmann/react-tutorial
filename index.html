<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="/react-tutorial/favicon.ico"><title>Game Board</title><link href="/react-tutorial/static/css/main.24109e1c.css" rel="stylesheet"></head><script type="text/javascript">function ifArrayWin(e){for(var t=0;t<=e[0].length-1;t++)for(var r=0;r<=e.length-1;r++){var n=e[t][r];if(0!=n)for(var o=-1;o<=1;o++)for(var u=-1;u<=1;u++){var a=r+u,i=t+o;if(a>=0&&a<e.length&&i>=0&&i<e[0].length&&e[i][a]==n&&(0!=u||0!=o)&&(a+=a-r,i+=i-t,a>=0&&a<e.length&&i>=0&&i<e.length&&e[i][a]==n&&0!=e[i][a]&&(0!=u||0!=o)&&(a+=a-r-u,i+=i-t-o,a>=0&&a<e.length&&i>=0&&i<e[0].length&&e[i][a]==n)))return n}}}function evalutation(e,t){var r=0,n=ifArrayWin(e);if(1==n||2==n)return 1e6;for(var o=-1;o<=1;o++)for(var u=-1;u<=1;u++)t[1]+u>=0&&t[1]+u<e.length&&t[0]+o>=0&&t[0]+o<e.length&&(0!=u||0!=o)&&e[t[0]+o][t[1]+u]>0&&r++;return r}function dropPiece(e,t,r){for(var n=(parseInt(t.substring(1))-1)%e[0].length,o=r%2+1,u=e.length-1;u>=0;u--)if(0==e[u][n])return e[u][n]=o,[e,evalutation(e,[u,n])];return[e,0]}function findChoices(e){for(var t=[],r=0;r<e[0].length;r++)for(var n=e.length-1;n>=0;n--)if(0==e[n][r]){t.push("g"+(n*e[0].length+r+1).toString());break}return t}function Tree(){this.currentNode=null,this.depth=0,this.leading=-1/0}function AlphaBetaPruning(e,t){var r=new Tree;r.newadd(null,e.map(function(e){return e.slice()}));for(var n=r.currentNode.uncontested.length,o=n,u=r.currentNode.uncontested[0];o>0;)if(null!==r.currentNode.uncontested&&r.getDepth()<t-1&&r.currentNode.gdex<r.currentNode.uncontested.length){if(r.ifPrune()){r.currentNode.uncontested=[];continue}r.newadd()}else{if(r.getDepth()>=t-1){for(var a=0;a<r.currentNode.uncontested.length;a++){if(r.add(),r.ifPrune()){r.getAlphaBeta(r.getDepth(),a);break}r.getAlphaBeta(r.getDepth(),a)}r.moveAlphaBetaUp(r.getDepth()),r.Next()}else r.moveAlphaBetaUp(r.getDepth()),r.Next();if(null===r.currentNode.next){if(r.leading<r.Value()&&(u=r.currentNode.uncontested[n-o],r.leading=r.Value()),--o<=0)return u;r.newadd()}}return u}function Range(e,t){for(var r=[],n=e;n<=t;n++)r.push(n);return r}function Rand(e,t){return Math.floor(Math.random()*(t-e+1))+e}function press(e,t){for(dataID=parseInt(e.id.substring(1));dataID<=num1*num2;){if("col-sm-5 egg"!=document.getElementById("g"+dataID.toString()).getAttribute("class")){dataID-=num2;break}dataID+=num2}dataID>num1*num2&&(dataID-=num2),e=document.getElementById("g"+dataID.toString());var r=e.getAttribute("class");"col-sm-5 egg"==r&&t%2==0?(e.className="col-sm-5 circle",e.disabled=!0):"col-sm-5 egg"==r&&t%2==1&&(e.className="col-sm-5 cross",e.disabled=!0),stackUp(e)}function stackUp(e){datID=e.id.substring(1),newdiv=document.getElementById("g"+(parseInt(datID)-num2).toString()),parseInt(datID)-num2>0&&(newdiv.disabled=!1)}function shutdown(e,t,r,n,o,u,a){for(var i=1;i<=o*u;i++){var d="g";d+=i.toString(),document.getElementById(d).disabled=!0,"col-sm-5 egg"==document.getElementById(d).className&&(document.getElementById(d).className="col-sm-5 blackegg")}var s=document.getElementById("g"+(n*a[n].length+(r+1)).toString()),c=document.getElementsByClassName("App-intro");"col-sm-5 circle"==s.className?c[0].innerHTML="<p style='font-size: 50px;'> Winner! </p>":c[0].innerHTML="<p style='font-size: 50px;'> Loser! </p>"}function datasArray(e,t){for(var r=[],n=[],o=1;o<=e*t;o++){var u="g";u+=o.toString();var a=document.getElementById(u).getAttribute("class");"col-sm-5 egg"==a?n=n.concat(0):"col-sm-5 circle"==a?n=n.concat(1):"col-sm-5 cross"==a&&(n=n.concat(2)),o%e==0&&(r=r.concat([n]),n=[])}return r}function ifWin(e,t,r,n){var o=datasArray(r,n);if(1==t){var u=AlphaBetaPruning(o,7),a=document.getElementById(u);press(a,e),stackUp(a,r,n),o=datasArray(r,n)}for(var i=0;i<=o[0].length-1;i++)for(var d=0;d<=o.length-1;d++){var s=o[i][d];if(0!=s)for(var c=-1;c<=1;c++)for(var l=-1;l<=1;l++){var h=d+l,g=i+c;if(h>=0&&h<o.length&&g>=0&&g<o[0].length&&o[g][h]==s&&(0!=l||0!=c)&&(h+=h-d,g+=g-i,h>=0&&h<o.length&&g>=0&&g<o.length&&o[g][h]==s&&0!=o[g][h]&&(0!=l||0!=c)&&(h+=h-d-l,g+=g-i-c,h>=0&&h<o.length&&g>=0&&g<o[0].length&&o[g][h]==s)))return 1==t?void shutdown(h,g,d,i,r,n,o):s}}}function grid(){for(var e=0,t=1,r="<table style=' position: relative; top: 60px;'> ",n=0;n<num1;n++){r+="<tr>";for(var o=0;o<num2;o++)r+="<td><button  id =g"+(e*num2+t).toString()+" type='button' class='col-sm-5 egg' onclick='press(this, track); track=track + 1;ifWin(track,1, num1, num2);track=track + 1;'></td>",t+=1;e+=1;var t=1;r+="</tr>"}document.getElementById("gridz").innerHTML=r}function updateGrid(){for(var e=0,t=0,r=0;r<num1;r++){for(var n=0;n<num2;n++){t+=1,document.getElementById("g"+(e*num2+t).toString());document.getElementById("g"+(e*num2+t).toString())}var t=0;e+=1}}Tree.prototype.PreviousNodeAt=function(e){return this.currentNode.previous[e]},Tree.prototype.Next=function(){this.depth--,this.currentNode=this.currentNode.next},Tree.prototype.Value=function(){return this.currentNode.value},Tree.prototype.newadd=function(e,t){var r={value:e,next:null,previous:[],alpha:-1/0,beta:1/0,board:null,uncontested:[],total:0,gdex:0};if(null===this.currentNode)return this.currentNode=r,this.depth++,this.currentNode.board=t.map(function(e){return e.slice()}),this.currentNode.uncontested=findChoices(this.currentNode.board.map(function(e){return e.slice()})),void this.currentNode;r.next=this.currentNode,this.currentNode.previous.push(r),this.currentNode=r,this.currentNode.alpha=this.currentNode.next.alpha,this.currentNode.beta=this.currentNode.next.beta;var n=dropPiece(this.currentNode.next.board.map(function(e){return e.slice()}),this.currentNode.next.uncontested[this.currentNode.next.gdex],this.depth);this.currentNode.board=n[0],this.depth%2==1?this.currentNode.total=this.currentNode.next.total+n[1]:this.currentNode.total=this.currentNode.next.total-n[1],this.currentNode.uncontested=findChoices(this.currentNode.board.map(function(e){return e.slice()})),this.currentNode.next.gdex++,this.depth++},Tree.prototype.add=function(e){var t={value:e,next:null,previous:[],alpha:-1/0,beta:1/0,board:null,uncontested:[],total:0,gdex:0};t.next=this.currentNode,this.currentNode.previous.push(t);var r=dropPiece(this.currentNode.board.map(function(e){return e.slice()}),this.currentNode.uncontested[this.currentNode.gdex],this.depth);this.depth%2==1?this.PreviousNodeAt(this.currentNode.gdex).value=r[1]+this.currentNode.total:this.PreviousNodeAt(this.currentNode.gdex).value=-1*r[1]+this.currentNode.total,this.currentNode.gdex++},Tree.prototype.getDepth=function(){for(var e=this.currentNode,t=1;null!==e.next;)e=e.next,t++;return t},Tree.prototype.ifPrune=function(){return this.currentNode.alpha>=this.currentNode.beta},Tree.prototype.getAlphaBeta=function(e,t){e%2==0?this.PreviousNodeAt(t).value<this.currentNode.beta&&(this.currentNode.beta=this.PreviousNodeAt(t).value,this.currentNode.value=this.currentNode.beta):this.PreviousNodeAt(t).value>this.currentNode.alpha&&(this.currentNode.alpha=this.PreviousNodeAt(t).value,this.currentNode.value=this.currentNode.alpha)},Tree.prototype.moveAlphaBetaUp=function(e){e%2==0?this.currentNode.beta>this.currentNode.next.alpha&&(this.currentNode.next.alpha=this.currentNode.beta,this.currentNode.next.value=this.currentNode.next.alpha):this.currentNode.alpha<this.currentNode.next.beta&&(this.currentNode.next.beta=this.currentNode.alpha,this.currentNode.next.value=this.currentNode.next.beta)}</script><div id="root"></div><div class="body1"><div class="moveleft"><r1><form><input type="button" onclick="history.go(0)" value="Refresh"></form></r1></div><style>table,td,tr{border:5px solid #000;padding:15px}table{border-spacing:5px}</style><div id="gridz"></div><script>var track=0,num1=7,num2=7;grid()</script></div></html><script type="text/javascript" src="/react-tutorial/static/js/main.ada17fe8.js"></script>